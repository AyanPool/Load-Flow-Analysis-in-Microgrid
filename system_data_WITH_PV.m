function [LF,LT,nbus,BTYPE,nDG,nline,r,x0,mp,nq,PL,QL,PGmax,Qmax] = system_data_WITH_PV(MG_system)
 
    
switch (MG_system)
    case 1   
    
Sbase = 1000;
Vbase = 220/sqrt(3);

%% line data card         
   nDG = 3;
   PGmax = [2.8333e+03;2.8333e+03;2.8333e+03]/Sbase ;
   Qmax = [1.7560e+03;1.7560e+03;1.7560e+03]/Sbase  ;
 
%           BUS	PG  QG   PLAC	   QAC    BTYPE 1 for PQ 2 for PV bus (4or 5 or 6 in 6 bus system)
bus_data = [1	0    0   1.266	  0.443	    1   ;  
            2  0.0  0.0  1.0      0.5       1   ;
            3	0    0   2.444	  1.246	    1   ;
            4   0    0   0.0      0.0       2   ;%2 no violation
            5   0    0   0.0      0.0       1   ;%2
            6   0    0   0.0      0.0       1   ;]% 2 for violation;
        
line_data = [ 1          2      0.43    0.318 ; %% data from 3 phase paper
              2          3      0.15    1.843 ; 
              3          6      0.05    0.050 ;
              4          1      0.30    0.350 ;
              2          5      0.20    0.250 ; ]; 
          
wbase = 2*pi*50;% 
Zbase = Vbase^2/Sbase;
LF = line_data(:,1); 
LT = line_data(:,2);

r = line_data(:,3)/Zbase;
x0 = wbase*line_data(:,4)*1e-3/Zbase; % L in mH hence 1.0e-3

%% droop values
  mp = [ 10.8003e-05; 9.4003e-05 ; 8.2003e-05];% rad/sec/W
  nq = [ 7.1920e-04 ; 8.1920e-04 ; 11.1920e-04]; % V/VAR 
 
% convert mp nq to pu

mp = mp*Sbase/wbase ;
nq = nq * Sbase/Vbase ;
          case 2
 %           BUS	PG  QG   PLAC	   QAC   PDC (pu)
 
        %% 38 bus system referred in paper data from singh et al. IEEE
%% bus data card ( bus load is in R + jX form)
%%        bus no. Pg    Qg    PL     QL     BTYPE 1 for PQ 2 for PV bus (34 to 38 in 38 bus system)
bus_data = [ 1     0     0  0.000  0.000      1;
             2     0     0  0.100  0.060      1;
             3     0     0  0.090  0.040      1;
             4     0     0  0.120  0.080      1;
             5     0     0  0.060  0.030      1;
             6     0     0  0.060  0.020      1;
             7     0     0  0.200  0.100      1;
             8     0     0  0.200  0.100      1;
             9     0     0  0.060  0.020      1;
            10     0     0  0.060  0.020      1;
            11     0     0  0.045  0.030      1;
            12     0     0  0.060  0.035      1;
            13     0     0  0.060  0.035      1;
            14     0     0  0.120  0.080      1;
            15     0     0  0.060  0.010      1;
            16     0     0  0.060  0.020      1;
            17     0     0  0.060  0.020      1;
            18     0     0  0.090  0.040      1;
            19     0     0  0.090  0.040      1;
            20     0     0  0.090  0.040      1;
            21     0     0  0.090  0.040      1;
            22     0     0  0.090  0.040      1;
            23     0     0  0.090  0.050      1;
            24     0     0  0.420  0.200      1;
            25     0     0  0.420  0.200      1;
            26     0     0  0.060  0.025      1;
            27     0     0  0.060  0.025      1;
            28     0     0  0.060  0.020      1;
            29     0     0  0.120  0.070      1;
            30     0     0  0.200  0.600      1;
            31     0     0  0.150  0.070      1;
            32     0     0  0.210  0.100      1;
            33     0     0  0.060  0.040      1;
            34     0     0  0.000  0.000      1;   
            35     0     0  0.000  0.000      1; 
            36     0     0  0.000  0.000      2;%2    
            37     0     0  0.000  0.000      1; %2  
            38     0     0  0.000  0.000      1];
 nDG = 5;       
  
 PGmax  = [ 3.0;1.5;0.5;1.9;0.5]*2;% in pu
  
 Qmax  = [ 1.8;1.0;1.4;1.6;1.4]*2;% in pu
    
% %% line data card  line parameters in R and XL0 at w0       
%%            LNO   LF   LT       R(pu)       XL (pu) at w0    
line_data = [  1    1    2      0.000575259	   0.000293245	   ;
               2	2	 3	    0.003075952	   0.001566676	   ;
               3	3	 4	    0.002283567	   0.001162997	   ;
               4	4	 5	    0.002377779	   0.001211039	   ;
               5	5	 6	    0.005109948	   0.004411152	   ;
               6	6	 7	    0.001167988	   0.003860850	   ;
               7	7	 8	    0.004438605	   0.001466848	   ;
               8	8	 9	    0.00642643	   0.004617047	   ;
               9	9	10	    0.00651378	   0.004617047	   ;
              10   10	11	    0.001226637	   0.000405551	   ;
              11   11	12	    0.002335976	   0.000772420	   ;
              12   12	13	    0.009159223	   0.007206337	   ;
              13   13	14	    0.003379179	   0.004447963	   ;
              14   14	15	    0.003687398	   0.003281847	   ;
              15   15	16	    0.004646996	   0.003394154	   ;
              16   16	17	    0.008042397	   0.010737754	   ;
              17   17	18	    0.004567133	   0.003581331	   ;
              18	2	19	    0.001023237	   0.000976443	   ;
              19   19	20	    0.009385084	   0.008456683	   ;
              20   20	21	    0.002554974	   0.002984859	   ;
              21   21	22	    0.004419263	   0.005848052	   ;
              22	3	23	    0.002815151    0.001923562	   ;
              23   23	24	    0.005602849	   0.004424254	   ;
              24   24	25	    0.005590371	   0.004374340	   ;
              25	6	26	    0.001266568	   0.000645139	   ;
              26   26	27	    0.001773196	   0.000902820	   ;
              27   27	28	    0.006607369	   0.005825590	   ;
              28   28	29	    0.005017607	   0.004371221	   ;
              29   29	30	    0.003166421	   0.001612847	   ;
              30   30	31	    0.006079528	   0.006008401	   ;
              31   31	32	    0.001937288	   0.002257986	   ;
              32   32	33	    0.002127585	   0.003308052	   ;
              33	8	34	    0.012478506	   0.012478506	   ;
              34   29	35	    0.012478506	   0.012478506	   ;
              35   12	36	    0.012478506	   0.012478506	   ;
              36   22	37	    0.003119626	   0.003119626	   ;
              37   25	38	    0.003119626	   0.003119626	   ;];
              
%% droop data pu
    mp = [ 5.102e-03 ;1.502e-03 ;4.506e-03 ; 2.253e-03 ; 2.253e-03 ]; 
    nq = [0.02;0.03333 ;0.02 ;0.010 ;0.012]*0.9; 

            

LF = line_data(:,2); 
LT = line_data(:,3);

r =  line_data(:,4) ;% pu 
x0 = line_data(:,5) ;% pu
end  

nbus = length(bus_data(:,1));
nline = length(line_data(:,1));

PL = bus_data(:,4)*1;
QL = bus_data(:,5)*1;
BTYPE = bus_data(:,6);
SL = complex(PL,QL);

end
